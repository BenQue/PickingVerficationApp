# 版本发布说明 v1.3.2 (Build 32)

**发布日期**: 2025-10-31
**版本号**: 1.3.2+32
**文件名**: warehouse-app-v1.3.2-build32.apk
**文件大小**: 78 MB

---

## 🔧 优化改进

### 焦点管理优化 - 支持连续扫码

本次更新进一步优化了电缆上架功能的用户体验，专注于提升连续扫码效率。

#### 主要改进
1. **默认焦点定位**
   - 进入电缆上架页面后，焦点自动定位在电缆条码输入框
   - 支持连续扫码操作，无需手动点击输入框
   - 扫码枪可以直接连续扫描多个电缆条码

2. **手动焦点切换**
   - 如需设置目标库位，用户可手动点击库位输入框
   - 点击后焦点切换到库位输入框
   - 设置完库位后，焦点自动返回电缆条码输入框

3. **提升操作效率**
   - 减少扫码过程中的手动操作
   - 优化连续扫码的工作流程
   - 提高大批量电缆上架的处理速度

---

## 📝 版本历史

### v1.3.0 (Build 30) - 2025-10-30
- 电缆上架流程优化 - 灵活操作模式
- 支持先扫描电缆或先设置库位的灵活顺序
- 库位和电缆区域始终可见
- 智能提示系统

### v1.3.1 (Build 31) - 2025-10-30
- 版本号同步修正
- 更新主界面版本显示

### v1.3.2 (Build 32) - 2025-10-31
- 焦点管理优化
- 支持连续扫码操作

---

## 💡 使用场景

### 连续扫码场景（推荐）
适用于：需要快速扫描多个电缆条码的场景

操作步骤：
1. 打开电缆上架页面（焦点自动在电缆条码输入框）
2. 连续扫描多个电缆条码
3. （可选）手动点击并设置目标库位
4. 确认上架

### 传统操作场景
适用于：先确定目标库位，然后扫描电缆

操作步骤：
1. 打开电缆上架页面
2. 手动点击库位输入框
3. 设置目标库位
4. 连续扫描电缆条码（焦点自动在条码输入框）
5. 确认上架

---

## 🔧 技术改进

### 前端改进
- 添加 FocusNode 管理机制
- 实现自动焦点定位逻辑
- 优化输入框焦点切换体验

### Widget 增强
- BarcodeInputField 组件支持外部 FocusNode 控制
- 改进焦点管理的灵活性

---

## 📱 安装说明

### 手动安装
1. 将 APK 文件复制到 PDA 设备
2. 在设备上打开文件管理器
3. 找到 APK 文件并点击安装
4. 按照提示完成安装

### USB 连接安装
```bash
# 检查设备连接
adb devices

# 安装到连接的设备
adb install -r releases/warehouse-app-v1.3.2-build32.apk

# 验证安装
adb shell dumpsys package com.example.picking_verification_app | grep versionName
```

---

## ✅ 验收测试清单

### 焦点管理测试
- [ ] 打开电缆上架页面，确认焦点在电缆条码输入框
- [ ] 可以直接使用扫码枪扫描电缆条码，无需手动点击
- [ ] 连续扫描多个电缆条码，无需重复点击输入框
- [ ] 手动点击库位输入框，焦点切换成功
- [ ] 设置库位后，焦点保持在正确位置
- [ ] 所有现有功能正常工作（验证、删除、清空、上架）

---

## 🔄 升级说明

从 v1.3.1 升级到 v1.3.2：
1. 直接安装新版本（会自动覆盖）
2. 所有数据和设置会保留
3. 首次使用时体验优化的焦点管理功能

---

## 📞 技术支持

如有问题，请联系技术支持团队。

---

**构建信息**:
- Flutter SDK: 3.27.3
- Dart SDK: 3.8.1
- 构建时间: 2025-10-31 16:48
- 构建模式: Release
- APK 大小: 78 MB
